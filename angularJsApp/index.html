<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Angular JS</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<script type="text/javascript" src="js/angular.min.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
  </head>
  <body ng-app="myApp" ng-controller="myController">
    <div class="container">
		<hr>
		<button type="button" class="btn btn-info btn-lg pull-right" data-toggle="modal" data-target="#myModal">Add New User</button>
		<h2>All Users</h2>
		<span class="clearfix"></span>
		<hr>
		
		<div class="alert alert-success" ng-if="message">
			<a href="#" class="close" aria-label="close" ng-click="clearMessage()">&times;</a>
			{{message}}
		</div>
		
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Index</th>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Email</th>
					<th>Phone No</th>
					<th>User Status</th>
					<th>Edit</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="user in users">
					<td>{{$index+1}}</td>
					<td>{{user.firstName}}</td>
					<td>{{user.lastName}}</td>
					<td>{{user.emailId}}</td>
					<td>{{user.phoneNo}}</td>
					<td>{{user.userStatus}}</td>
					<td><button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModalEdit" ng-click="selectUser(user)">Edit</button></td>
					<td><button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModalDelete">Delete</button></td>
				</tr>
			</tbody>
		</table>		
	</div>
	<!-- Modal -->
	<div class="modal fade" id="myModal" role="dialog">
		<div class="modal-dialog">
		<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" ng-click="cleareFields()">&times;</button>
					<h4 class="modal-title">New User Registration</h4>
				</div>
				<div class="modal-body">    
					<form class="form-horizontal" role="form" name="addNewUser" id="contact_form">
						<div class="form-group">
							<label class="control-label col-sm-2">First Name</label>
							<div class="col-sm-10">
								<input ng-model="newUser.firstName" type="text" placeholder="Please provide first name" name="first_name" class="form-control" required/>
							</div>							
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">Last Name</label>
							<div class="col-sm-10">
								<input ng-model="newUser.lastName" type="text" placeholder="Please provide last name" name="last_name" class="form-control" required/>
							</div>							
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">Email</label>
							<div class="col-sm-10">
								<input ng-model="newUser.emailId" type="text" placeholder="Please provide email address" name="email" class="form-control" required/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">Phone No</label>
							<div class="col-sm-10">
								<input ng-model="newUser.phoneNo" type="text" placeholder="Please provide phone number" name="phone" class="form-control" required/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">User Status</label>
							<div class="col-sm-10">
								<input type="text" ng-model="newUser.userStatus" placeholder="Please provide status" name="user_status" class="form-control" required/>
							</div>
						</div>
						<div class="form-group"> 
							<div class="col-sm-offset-2 col-sm-10">
								<button style="cursor: pointer;" type="submit" class="btn btn-default" ng-click="saveUser($event)" data-dismiss="modal">Save</button>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="cleareFields()">Close</button>
				</div>
			</div>      
		</div>
	</div>  
	<!---------Edit-Model-Starts-From-Here----------->
	<div class="modal fade" id="myModalEdit" role="dialog">
		<div class="modal-dialog">
		<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" ng-click="cleareFields()">&times;</button>
					<h4 class="modal-title">Edit This User</h4>
				</div>
				<div class="modal-body">    
					<form class="form-horizontal" role="form" name="editUserDetails" id="contact_form1">
						<div class="form-group">
							<label class="control-label col-sm-2">First Name</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="first_name" ng-model="clickedUser.firstName" required/>
							</div>							
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">Last Name</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="last_name" ng-model="clickedUser.lastName" required/>
							</div>							
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">Email</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="email" ng-model="clickedUser.emailId" required/>
							</div>							
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">Phone No</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="phone" ng-model="clickedUser.phoneNo" required/>
							</div>							
						</div>
						<div class="form-group">
							<label class="control-label col-sm-2">User Status</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="user_status" ng-model="clickedUser.userStatus" required/>
							</div>							
						</div>
						<div class="form-group"> 
							<div class="col-sm-offset-2 col-sm-10">
								<button style="cursor: pointer;" type="submit" class="btn btn-default" ng-click="updateUser($event, clickedUser)" data-dismiss="modal">Save</button>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="cleareFields()">Close</button>
				</div>
			</div>      
		</div>
	</div>
	<!---------Edit-Model-Ends--Here----->
	<!---------Delete-Model-Starts-Here------------>
	<div class="modal fade" id="myModalDelete" role="dialog">
		<div class="modal-dialog">
		<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Are you sure?</h4>
				</div>
				<div class="modal-body">    
					<strong style="color:red;">You are going to delete all information.......</strong>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="deleteUser()">Yes</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">No</button>
				</div>
			</div>      
		</div>
	</div>
	<!---------Delete-Model-Ends-Here----------->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
	<script src="js/bootstrapvalidator.js"></script>
	<script type="text/javascript" src="js/validater.js" ></script>
  </body>
</html>
